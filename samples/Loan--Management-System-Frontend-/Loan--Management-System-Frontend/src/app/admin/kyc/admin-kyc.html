<div class="section">
  <h2>KYC Requests</h2>

  <!-- LOADING -->
  <div *ngIf="loading" class="loading">
    Loading KYC requests...
  </div>

  <!-- KYC CARDS -->
  <div class="kyc-list" *ngIf="!loading && kycs.length">

    <div
      class="kyc-card"
      *ngFor="let kyc of kycs"
      [ngClass]="kyc.status.toLowerCase()"
    >

      <!-- LEFT INFO -->
      <div class="kyc-left">
        <h4>Customer ID</h4>
        <p class="customer-id">{{ kyc.customerId }}</p>

        <p class="type">Type: {{ kyc.type }}</p>
        <span class="doc">Document No: {{ kyc.documentNumber }}</span>
      </div>

      <!-- RIGHT INFO -->
      <div class="kyc-right">

        <div class="kyc-status">
          <span class="label">KYC</span>
          <span class="status-badge" [ngClass]="kyc.status.toLowerCase()">
            {{ kyc.status }}
          </span>
        </div>

        <!-- ACTIONS -->
        <div class="actions">
          <ng-container *ngIf="kyc.status === 'PENDING'; else completed">

            <input
              type="text"
              placeholder="Remarks"
              [(ngModel)]="remarks[kyc.id]"
              [ngModelOptions]="{ standalone: true }"
            />

            <button class="approve" (click)="approve(kyc.id)">
              Approve
            </button>

            <button class="reject" (click)="reject(kyc.id)">
              Reject
            </button>

          </ng-container>

          <ng-template #completed>
            <span class="done">âœ” Completed</span>
          </ng-template>
        </div>

      </div>
    </div>
  </div>

  <!-- EMPTY STATE -->
  <p *ngIf="!loading && !kycs.length" class="empty">
    No KYC requests found
  </p>
</div>
